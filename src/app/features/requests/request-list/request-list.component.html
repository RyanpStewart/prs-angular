<app-menu></app-menu>
<button type="button" class="btn btn-primary" routerLink="/request/create">
  Add New Request
</button>
<table class="table table-dark table-sm">
  <thead>
    <tr>
      <th scope="col">User</th>
      <th scope="col">Description</th>
      <th scope="col">Justification</th>
      <th scope="col">Date Submitted</th>
      <th scope="col">Date Needed</th>
      <th scope="col">Total</th>
      <th scope="col">Status</th>
      <th scope="col">Reason for Rejection</th>
      <th scope="col">Delivery Method</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let request of requests">
      <td>{{ request.user.lastName }}, {{ request.user.firstName }}</td>
      <td>{{ request.description }}</td>
      <td>{{ request.justification }}</td>
      <td>{{ request.submittedDate | date }}</td>
      <td>{{ request.dateNeeded | date }}</td>
      <td>{{ request.total | currency }}</td>
      <td>{{ request.status }}</td>
      <td>{{ request.reasonForRejection }}</td>
      <td>{{ request.deliveryMode }}</td>
      <td>
        <a
          *ngIf="request.status === 'New'"
          routerLink="/request/list"
          (click)="deleteRequest(request.id)"
          >Delete |</a
        >

        <a
          *ngIf="request.status === 'New' || request.status === 'Approved'"
          routerLink="/request/detail/{{ request.id }}"
        >
          Details |</a
        >

        <a routerLink="/request/lines/{{ request.id }}"> Lines</a>
      </td>
    </tr>
  </tbody>
</table>
